# Lesta MT API

Неофициальная библиотека для взаимодействия с api "Мир Танков" от Lesta Games.  
[Ссылка на официальную документацию](https://developers.lesta.ru/documentation/guide/getting-started/)

Установка
> npm i lesta-mt-api

> yarn add lesta-mt-api

## Использование

Для того чтобы взаимодействовать с API, вам нужен applicationId. Его можно получить [тут](https://developers.lesta.ru/applications/).
На странице нужно нажать кнопку создать запрос или же, если у вас есть доступ, войти и создать новое приложение.
После того как у вас он будет его нужно использовать следующим образом.

```
// Имя файла - test.ts

import { LestaAPI } from 'lesta-mt-api';

const api = new LestaAPI({
    applicationId: 'ТУТ ID ВАШЕГО ПРИЛОЖЕНИЯ',
});

// Ниже пример запроса
api.account
  .info({ account_id: [1] })
  .then((r) => console.log(r))
  .catch((e) => console.log(e));
```

## Реализованные запросы

Запросы:
- Аккаунты ✅
- Аутентификация ✅
- Укрепрайоны ✅
- Кланы ✅
- Глобальная карта 
- Танкопедия 
- Рейтинги игроков 
- Рейтинги кланов 
- Техника игрока 

Написана документация с описанием полей для реализованных запросов. Она должна помочь в понимании формирования запроса.

## Нашел баг? Есть предложение?

[Оформите issue](https://github.com/s-yurchenko/lesta-mt-api/issues/new)

## Разработка

Для разработки необходимо склонировать локально себе репозиторий, сделать правки, запушить изменения через отдельную ветку
и оформить pull request. Используемый пакетный менеджер - `yarn`.

### Локальное тестирование

Изменения можно протестировать локально, для этого необходимо выполнить ряд комманд:

1. В папке с библиотекой `yarn link`;
2. В любой другой папке с проектом, подключить залинкованные данные `yarn link lesta-mt-api`;

Теперь ваши изменения связанные с библиотекой можно будет протестировать локально в стороннем проекте.
Только не забывать выполять `yarn build` проекта.  
При коммите будет выполняться husky, для запуска eslint и prettier.

### Полезные команды

`yarn build` - сборка библиотеки  
`yarn install` - установка зависимостей  
`yarn lint` - запуск настроенного eslint  
`yarn format` - запуск настроенного prettier  
